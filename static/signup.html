<!DOCTYPE html>
<html>
    <head>
        <title>Demo Register</title>
        <! this is just to test api -->
    </head>
<body>
    <form id="reg-form">
        <h1> demo registry (posts to database)</h1>
        <input type="text" autocomplete="off" id="email" placeholder="email" />
        <input type="password" autocomplete="off" id="password" placeholder="password" />
        <input type="submit"  value="Submit new User" />
<p> Password must best a minimum of 8 characters, with 1 letter and 1 number</p>
    </form>
    <script>
        const form = document.getElementById('reg-form')
        form.addEventListener('submit', registerUser);




        async function registerUser(user) {
            event.preventDefault();
            const password = document.getElementById('password').value;
            const email = document.getElementById('email').value;
            
            //email and password are being pushed onto  db
            const result = await fetch('/api/signup', {
                method: 'POST', 
                headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: JSON.stringify({
                    email,
                    password
                })
            }).then((res) => res.json()) // convert results to json






                    

        }


    </script>
</body>
</html>